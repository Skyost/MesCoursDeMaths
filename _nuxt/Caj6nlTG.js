import{c as K,g as Q,b as X,a as Y}from"./DVmDtNTK.js";import{g as G,c as d,o as r,E as B,d as I,A as H,h as _,S as ee,T as te,U as j,Q as f,w as u,D as T,V as M,W as oe,l as ne,X as ae,f as t,R as O,e as se,t as k,M as re,O as L,j as le,u as ie,b as c,a as h,J as ue,P as ce,F as R,r as V,N as de}from"./Daf5ZSeK.js";import{_ as _e}from"./MX6Otr37.js";import{u as A,a as fe,_ as pe}from"./btwViaZ-.js";import{u as me,_ as ve}from"./DfXPWXDm.js";import{_ as ge,a as he}from"./C331i81J.js";import be from"./DZzYtPKj.js";import{u as ye}from"./B1SVqfAU.js";import{u as $e}from"./CSoIeCs1.js";const xe={},Ce={class:"controls-section"};function ke(n,a){return r(),d("div",Ce,[B(n.$slots,"default",{},void 0,!0)])}const Be=Object.assign(G(xe,[["render",ke],["__scopeId","data-v-efb4f5c0"]]),{__name:"ControlsSection"}),Ie={},we={class:"controls"};function Le(n,a){return r(),d("div",we,[B(n.$slots,"default",{},void 0,!0)])}const Oe=Object.assign(G(Ie,[["render",Le],["__scopeId","data-v-527bfebf"]]),{__name:"Controls"}),Ne=I({__name:"BListGroup",props:{flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{type:Boolean,default:!1},tag:{default:"div"}},setup(n){const e=H(n,"BListGroup"),p=_(()=>{const l=e.flush?!1:e.horizontal;return{"list-group-flush":e.flush,"list-group-horizontal":l===!0,[`list-group-horizontal-${l}`]:typeof l=="string","list-group-numbered":e.numbered}}),o=_(()=>e.numbered===!0?"ol":e.tag);return ee(j,{numbered:te(()=>e.numbered)}),(l,b)=>(r(),f(M(o.value),{class:T(["list-group",p.value])},{default:u(()=>[B(l.$slots,"default")]),_:3},8,["class"]))}}),Re=I({__name:"BListGroupItem",props:{action:{type:Boolean,default:!1},button:{type:Boolean,default:!1},tag:{default:"div"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(n){const e=H(n,"BListGroupItem"),p=oe(),o=ne(j,null),{computedLink:l}=me(e),b=_(()=>!e.button&&l.value),$=_(()=>o?.numbered.value?"li":e.button?"button":b.value?ve:e.tag),x=_(()=>e.action||b.value||e.button||["a","router-link","button","b-link"].includes(e.tag)),C=_(()=>({[`list-group-item-${e.variant}`]:e.variant!==null&&e.variant!==void 0,"list-group-item-action":x.value,active:e.active,disabled:e.disabled})),m=_(()=>{const v={};return e.button&&((!p||!p.type)&&(v.type="button"),e.disabled&&(v.disabled=!0)),v});return(v,w)=>(r(),f(M($.value),ae({class:["list-group-item",C.value],"aria-current":t(e).active?!0:void 0,"aria-disabled":t(e).disabled?!0:void 0,target:b.value?t(e).target:void 0,href:t(e).button?void 0:t(e).href,to:t(e).button?void 0:t(e).to},m.value),{default:u(()=>[B(v.$slots,"default")]),_:3},16,["class","aria-current","aria-disabled","target","href","to"]))}}),Ve=I({__name:"Control",props:{iconId:{default:"arrow-left"},to:{},href:{},text:{},active:{type:Boolean}},setup(n){const a=ye();return(e,p)=>{const o=be,l=ge;return r(),f(l,{variant:t(a)==="light"?"light":"dark",to:n.to,href:n.href,active:n.active},{default:u(()=>[n.iconId?(r(),f(o,{key:0,name:`bi:${n.iconId}`},null,8,["name"])):O("",!0),se(" "+k(n.text),1)]),_:1},8,["variant","to","href","active"])}}}),z=Object.assign(Ve,{__name:"ControlsControl"}),Ae={key:0},ze={key:1},Ge=["textContent"],He={class:"d-flex align-items-center gap-3"},je=["innerHTML"],Te={class:"d-block"},Me={key:2},De=n=>({title:n.name,to:K(n),depth:1}),Ke=I({__name:"index",async setup(n){let a,e;const p=re(),{data:o,status:l,error:b}=([a,e]=L(()=>$e(`/_api/latex/${p.params.grade}/`,"$GWZa4Z_pzk")),a=await a,e(),a);A(Q);const $=async y=>{try{return await de(`bi:${y}`)}catch(i){console.error(i)}return null},x=([a,e]=L(()=>$("file-earmark-pdf-fill")),a=await a,e(),a),C=([a,e]=L(()=>$("file-earmark-text-fill")),a=await a,e(),a),m=le(!1),v=y=>{const i=g=>`<svg height="${g.height}" width="${g.width}" viewBox="0 0 ${g.width} ${g.height}" aria-hidden="true">${g.body}</svg>`;return y.url.endsWith(".pdf")?x?i(x):"":C?i(C):""},w=y=>y.url.endsWith(".pdf")?"danger":null,D=()=>A(De(o.value)),N=_(()=>o.value?`Cours de ${o.value.name}`:"Liste des cours");return ie({title:N}),(y,i)=>{const g=X,E=Be,S=Oe,F=_e,P=pe,W=fe,U=Re,Z=Ne,q=he,J=ce;return r(),d("div",null,[t(l)==="pending"?(r(),d("div",Ae,[c(g)])):t(o)?(r(),d("div",ze,[c(S,{onVnodeMounted:D},{default:u(()=>[c(E,null,{default:u(()=>[c(z,{to:"/cours/",text:"Retourner à la liste des niveaux"}),t(o).otherResources&&t(o).otherResources.length>0?(r(),f(z,{key:0,text:"Autres ressources","icon-id":"file-earmark-text-fill",onClick:i[0]||(i[0]=s=>m.value=!t(m))})):O("",!0)]),_:1})]),_:1},512),h("h1",{textContent:k(t(N))},null,8,Ge),c(W,{class:"justify-content-center"},{default:u(()=>[(r(!0),d(R,null,V(t(o).lessons,s=>(r(),f(P,{key:s.id,xs:"12",md:"6",lg:"4",class:"mt-3"},{default:u(()=>[c(F,{title:s.name,color:t(o).color,subtitle:`Chapitre ${s.number}`,to:t(Y)(t(o),s),image:`/images/${t(o).id}/${s.id}-cours/image.svg`},null,8,["title","color","subtitle","to","image"])]),_:2},1024))),128))]),_:1}),t(o).otherResources&&t(o).otherResources.length>0?(r(),f(q,{key:0,modelValue:t(m),"onUpdate:modelValue":i[1]||(i[1]=s=>ue(m)?m.value=s:null),title:"Autres ressources",size:"lg","ok-only":"","ok-title":"Fermer","ok-variant":"secondary"},{default:u(()=>[i[2]||(i[2]=h("p",null," Ce niveau comporte d'autres ressources qui ne sont pas associées à un chapitre particulier. ",-1)),c(Z,{class:"mb-3"},{default:u(()=>[(r(!0),d(R,null,V(t(o).otherResources,s=>(r(),f(U,{key:s.url,href:s.url},{default:u(()=>[h("span",He,[h("span",{class:T(["fs-2 resource-icon",{[`text-${w(s)}`]:w(s)}]),innerHTML:v(s)},null,10,je),h("span",null,[h("strong",Te,k(s.name),1),h("small",null,k(s.description),1)])])]),_:2},1032,["href"]))),128))]),_:1})]),_:1},8,["modelValue"])):O("",!0)])):(r(),d("div",Me,[c(J,{"change-title":!0,error:t(b)??404},null,8,["error"])]))])}}});export{z as C,Ke as _,Oe as a,Be as b,De as g};
