import{c as K,g as Q,b as X,a as Y}from"./Ba8iQKZp.js";import{g as G,c as d,o as s,E as B,d as I,A as H,h as _,S as ee,T as te,U as j,Q as p,w as u,D as T,V as M,W as oe,l as ne,X as ae,f as t,R as O,e as se,t as x,M as re,O as L,j as le,u as ie,b as c,a as h,J as ue,P as ce,F as R,r as V,N as de}from"#entry";import{_ as _e}from"./DMACJMuA.js";import{u as A,a as pe,_ as fe}from"./BeXWE8Q9.js";import{u as me,_ as ve}from"./4QpiHbwT.js";import{_ as ge,a as he}from"./BxenAxm9.js";import be from"./CX5QH052.js";import{u as ye}from"./BS6wtXwM.js";import{u as $e}from"./ConmzB_r.js";const Ce={},ke={class:"controls-section"};function xe(r,n){return s(),d("div",ke,[B(r.$slots,"default",{},void 0,!0)])}const Be=Object.assign(G(Ce,[["render",xe],["__scopeId","data-v-efb4f5c0"]]),{__name:"ControlsSection"}),Ie={},we={class:"controls"};function Le(r,n){return s(),d("div",we,[B(r.$slots,"default",{},void 0,!0)])}const Oe=Object.assign(G(Ie,[["render",Le],["__scopeId","data-v-527bfebf"]]),{__name:"Controls"}),Ne=I({__name:"BListGroup",props:{flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{type:Boolean,default:!1},tag:{default:"div"}},setup(r){const e=H(r,"BListGroup"),f=_(()=>{const l=e.flush?!1:e.horizontal;return{"list-group-flush":e.flush,"list-group-horizontal":l===!0,[`list-group-horizontal-${l}`]:typeof l=="string","list-group-numbered":e.numbered}}),o=_(()=>e.numbered===!0?"ol":e.tag);return ee(j,{numbered:te(()=>e.numbered)}),(l,b)=>(s(),p(M(o.value),{class:T(["list-group",f.value])},{default:u(()=>[B(l.$slots,"default")]),_:3},8,["class"]))}}),Re=I({__name:"BListGroupItem",props:{action:{type:Boolean,default:!1},button:{type:Boolean,default:!1},tag:{default:"div"},active:{type:Boolean,default:!1},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},variant:{default:void 0}},setup(r){const e=H(r,"BListGroupItem"),f=oe(),o=ne(j,null),{computedLink:l}=me(e),b=_(()=>!e.button&&l.value),$=_(()=>o?.numbered.value?"li":e.button?"button":b.value?ve:e.tag),C=_(()=>e.action||b.value||e.button||["a","router-link","button","b-link"].includes(e.tag)),k=_(()=>({[`list-group-item-${e.variant}`]:e.variant!==null&&e.variant!==void 0,"list-group-item-action":C.value,active:e.active,disabled:e.disabled})),m=_(()=>{const v={};return e.button&&((!f||!f.type)&&(v.type="button"),e.disabled&&(v.disabled=!0)),v});return(v,w)=>(s(),p(M($.value),ae({class:["list-group-item",k.value],"aria-current":t(e).active?!0:void 0,"aria-disabled":t(e).disabled?!0:void 0,target:b.value?t(e).target:void 0,href:t(e).button?void 0:t(e).href,to:t(e).button?void 0:t(e).to},m.value),{default:u(()=>[B(v.$slots,"default")]),_:3},16,["class","aria-current","aria-disabled","target","href","to"]))}}),Ve=I({__name:"Control",props:{iconId:{default:"arrow-left"},to:{},href:{},text:{},active:{type:Boolean}},setup(r){const n=ye();return(e,f)=>{const o=be,l=ge;return s(),p(l,{variant:t(n)==="light"?"light":"dark",to:e.to,href:e.href,active:e.active},{default:u(()=>[e.iconId?(s(),p(o,{key:0,name:`bi:${e.iconId}`},null,8,["name"])):O("",!0),se(" "+x(e.text),1)]),_:1},8,["variant","to","href","active"])}}}),z=Object.assign(Ve,{__name:"ControlsControl"}),Ae={key:0},ze={key:1},Ge=["textContent"],He={class:"d-flex align-items-center gap-3"},je=["innerHTML"],Te={class:"d-block"},Me={key:2},De=r=>({title:r.name,to:K(r),depth:1}),Ke=I({__name:"index",async setup(r){let n,e;const f=re(),{data:o,status:l,error:b}=([n,e]=L(()=>$e(`/_api/latex/${f.params.grade}/`,"$GWZa4Z_pzk")),n=await n,e(),n);A(Q);const $=async y=>{try{return await de(`bi:${y}`)}catch(i){console.error(i)}return null},C=([n,e]=L(()=>$("file-earmark-pdf-fill")),n=await n,e(),n),k=([n,e]=L(()=>$("file-earmark-text-fill")),n=await n,e(),n),m=le(!1),v=y=>{const i=g=>`<svg height="${g.height}" width="${g.width}" viewBox="0 0 ${g.width} ${g.height}" aria-hidden="true">${g.body}</svg>`;return y.url.endsWith(".pdf")?C?i(C):"":k?i(k):""},w=y=>y.url.endsWith(".pdf")?"danger":null,D=()=>A(De(o.value)),N=_(()=>o.value?`Cours de ${o.value.name}`:"Liste des cours");return ie({title:N}),(y,i)=>{const g=X,E=Be,S=Oe,F=_e,P=fe,W=pe,U=Re,Z=Ne,q=he,J=ce;return s(),d("div",null,[t(l)==="pending"?(s(),d("div",Ae,[c(g)])):t(o)?(s(),d("div",ze,[c(S,{onVnodeMounted:D},{default:u(()=>[c(E,null,{default:u(()=>[c(z,{to:"/cours/",text:"Retourner à la liste des niveaux"}),t(o).otherResources&&t(o).otherResources.length>0?(s(),p(z,{key:0,text:"Autres ressources","icon-id":"file-earmark-text-fill",onClick:i[0]||(i[0]=a=>m.value=!t(m))})):O("",!0)]),_:1})]),_:1},512),h("h1",{textContent:x(t(N))},null,8,Ge),c(W,{class:"justify-content-center"},{default:u(()=>[(s(!0),d(R,null,V(t(o).lessons,a=>(s(),p(P,{key:a.id,xs:"12",md:"6",lg:"4",class:"mt-3"},{default:u(()=>[c(F,{title:a.name,color:t(o).color,subtitle:`Chapitre ${a.number}`,to:t(Y)(t(o),a),image:`/images/${t(o).id}/${a.id}-cours/image.svg`},null,8,["title","color","subtitle","to","image"])]),_:2},1024))),128))]),_:1}),t(o).otherResources&&t(o).otherResources.length>0?(s(),p(q,{key:0,modelValue:t(m),"onUpdate:modelValue":i[1]||(i[1]=a=>ue(m)?m.value=a:null),title:"Autres ressources",size:"lg","ok-only":"","ok-title":"Fermer","ok-variant":"secondary"},{default:u(()=>[i[2]||(i[2]=h("p",null," Ce niveau comporte d'autres ressources qui ne sont pas associées à un chapitre particulier. ",-1)),c(Z,{class:"mb-3"},{default:u(()=>[(s(!0),d(R,null,V(t(o).otherResources,a=>(s(),p(U,{key:a.url,href:a.url},{default:u(()=>[h("span",He,[h("span",{class:T(["fs-2 resource-icon",{[`text-${w(a)}`]:w(a)}]),innerHTML:v(a)},null,10,je),h("span",null,[h("strong",Te,x(a.name),1),h("small",null,x(a.description),1)])])]),_:2},1032,["href"]))),128))]),_:1})]),_:1},8,["modelValue"])):O("",!0)])):(s(),d("div",Me,[c(J,{"change-title":!0,error:t(b)??404},null,8,["error"])]))])}}});export{z as C,Ke as _,Oe as a,Be as b,De as g};
